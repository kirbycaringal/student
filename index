<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    
    <style>
    :root {
        --maroon: #800000;
        --white: #ffffff;
    }
    
    /* Base styles */
    body {
        overflow-x: hidden;
        font-family: Arial, sans-serif;
        background-color: #f5f5f5;
    }
    
    /* Utility classes */
    .text-maroon {
        color: var(--maroon);
    }
    
    /* Sidebar styles */
    .sidebar {
        background: linear-gradient(to bottom, #800000, #4d0000);
        min-height: 100vh;
        padding: 20px 0;
        width: 250px;
        position: fixed;
    }
    .sidebar a {
        display: block;
        color: white;
        padding: 10px 20px;
        text-decoration: none;
    }
    .sidebar a:hover {
        background-color: #a00000;
    }
    .sidebar a.active {
        background-color: #a00000;
    }
    .university-name {
        font-size: 14px;
        line-height: 1.3;
        padding: 0 15px;
        text-align: center;
        margin-bottom: 15px;
        color: white;
    }
    .sidebar-logo {
        display: block;
        margin: 0 auto 15px auto;
        max-width: 80px;
        max-height: 80px;
        width: auto;
        height: auto;
        object-fit: contain;
        border-radius: 50%;
        background-color: white;
        padding: 5px;
    }
    
    /* Main content area */
    .main-content {
        margin-left: 250px;
        padding: 30px;
        width: calc(100% - 250px);
    }
    .content {
        display: none;
    }
    .content.active {
        display: block;
    }
    
    /* Dashboard styles */
    .dashboard-title {
        color: var(--maroon);
        font-weight: bold;
    }
    .dashboard-card {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        padding: 20px;
        margin-bottom: 20px;
        border: none;
        width: 100%;
    }
    .card {
        border: none;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .stat-card {
        transition: none;
        height: 100%;
        border: none;
    }
    .stat-card:hover {
        transform: none;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .stat-value {
        font-size: 2rem;
        font-weight: bold;
        color: #800000;
        margin: 10px 0;
    }
    .stat-label {
        font-size: 0.9rem;
        color: #666;
    }
    
    /* Profile section */
    .profile-container {
        display: flex;
        align-items: center;
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        padding: 20px;
        margin-bottom: 30px;
        position: relative;
        width: 100%;
    }
    .profile-info {
        margin-left: 20px;
        flex-grow: 1;
    }
    .change-password-btn {
        position: absolute;
        bottom: 20px;
        right: 20px;
    }
    .profile-title {
        font-weight: bold;
    }
    
    /* Fees section */
    .toggle-fees {
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .toggle-fees i {
        transition: transform 0.3s ease;
    }
    .fees-content {
        overflow: hidden;
        transition: max-height 0.3s ease;
    }
    .fees-content.collapsed {
        max-height: 0;
    }
    .fees-content.expanded {
        max-height: 2000px;
    }
    .fee-table th {
        background-color: #800000;
        color: white;
    }
    .table-secondary {
        background-color: #f8f9fa;
    }
    
    /* Grades page */
    .grades-title {
        color: var(--black);
        font-weight: bold;
        margin-bottom: 25px;
    }
    .table {
        border-color: #ddd !important; /* light gray borders */
    }
    .table th, .table td {
        border-color: #ddd !important;
        text-align: center;
    }
    .table th {
        background-color: var(--maroon);
        color: white;
    }
    
    /* Button styles */
    .btn-reset {
        background-color: #666;
        color: white;
        border: none;
    }
    .btn-reset:hover {
        background-color: #444;
        color: white;
    }
    
    /* Registration Form Styles */
    .pdf-container {
        background: white;
        padding: 40px;
        box-shadow: 0 0 8px rgba(0,0,0,0.2);
        font-size: 14px;
        max-width: 800px;   /* A4-like width */
        width: 100%;
        margin: 0 auto;
    }
    .section-title {
        font-weight: bold;
        text-align: left;
        margin: 25px 0 10px;
        text-transform: uppercase;
        border-bottom: 1px solid #ccc;
        padding-bottom: 4px;
    }
    .signature-line {
        display: inline-block;
        border-bottom: 1px solid #000;
        width: 250px;
        margin-top: 40px;
    }
    .form-table td {
        padding: 6px 10px;
        vertical-align: top;
    }
    
    /* Announcements Styles */
    .announcements-container {
        display: flex;
        flex-direction: column;
        max-height: calc(100vh - 120px);
        overflow: hidden;
    }
    .announcements-header {
        flex-shrink: 0;
        padding-bottom: 15px;
        border-bottom: 2px solid #e0e0e0;
        margin-bottom: 20px;
        background-color: white;
    }
    .announcements-list-container {
        flex: 1;
        overflow-y: auto;
        padding-right: 5px;
    }
    .announcements-list-container::-webkit-scrollbar {
        width: 8px;
    }
    .announcements-list-container::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }
    .announcements-list-container::-webkit-scrollbar-thumb {
        background: var(--maroon);
        border-radius: 10px;
    }
    .announcements-list-container::-webkit-scrollbar-thumb:hover {
        background: #a52a2a;
    }
    .announcement-item {
        border-left: 4px solid var(--maroon);
        margin-bottom: 15px;
        transition: all 0.3s;
        cursor: pointer;
    }
    .announcement-item:hover {
        background-color: rgba(128, 0, 0, 0.05);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transform: translateY(-2px);
    }
    .announcement-item h5 {
        color: var(--maroon);
        font-weight: 600;
        font-size: 1.1rem;
    }
    .announcement-item .badge {
        font-size: 0.75rem;
        padding: 0.35em 0.65em;
    }
    .announcement-item p {
        color: #555;
        line-height: 1.6;
    }
    .announcement-item small {
        display: block;
        margin-top: 10px;
    }
    .announcement-preview {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    .announcement-full-content {
        display: none;
    }
    #viewAnnouncementModal .modal-header {
        background: linear-gradient(45deg, var(--maroon), #a52a2a);
        flex-shrink: 0;
    }
    #viewAnnouncementModal .modal-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        margin: 0;
        max-height: 90vh;
        display: flex;
        flex-direction: column;
    }
    #viewAnnouncementModal .modal-content {
        max-height: 90vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    #viewAnnouncementModal .modal-announcement-info {
        padding: 20px 25px 15px 25px;
        background-color: #fff;
        border-bottom: 1px solid #dee2e6;
        flex-shrink: 0;
    }
    #viewAnnouncementModal .modal-announcement-info hr {
        margin: 0;
    }
    #viewAnnouncementModal .modal-body {
        padding: 25px;
        font-size: 1rem;
        overflow-y: auto;
        flex: 1;
        min-height: 0;
    }
    #viewAnnouncementModal .modal-footer {
        flex-shrink: 0;
    }
    #modalAnnouncementContent {
        color: #333;
        line-height: 1.8;
    }
    
    /* Download Button */
    .download-btn {
        position: fixed;
        bottom: 20px;
        right: 20px;
        border-radius: 50px;
        padding: 12px 25px;
        background-color: #800000; /* maroon background */
        box-shadow: 0 2px 8px rgba(0,0,0,0.25);
        display: flex;
        align-items: center;
        font-weight: 600;
        border: 2px solid #800000; /* maroon border */
        color: white; /* white text */
        cursor: pointer;
    }
    .download-btn i {
        margin-left: 8px;
        color: white; /* white icon */
        font-size: 18px;
    }
    
    /* Mobile sidebar toggle */
    .toggle-btn {
        position: fixed;
        top: 20px;
        left: 20px;
        z-index: 1001;
        width: 40px;
        height: 40px;
        padding: 0;
        display: none;
        background-color: #343a40;
        border: none;
        border-radius: 4px;
        align-items: center;
        justify-content: center;
    }
    .toggle-btn i {
        font-size: 1.25rem;
        color: white;
    }
    
    /* Mobile Header */
    .mobile-header {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        background: linear-gradient(to right, #800000, #a52a2a);
        color: white;
        padding: 15px 20px;
        z-index: 999;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .mobile-header .header-content {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    .mobile-header .menu-toggle {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        padding: 5px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .mobile-header .header-title {
        font-size: 1.1rem;
        font-weight: 600;
        margin: 0;
        flex-grow: 1;
        text-align: center;
    }
    
    /* Change Password Modal Styles */
    #changePasswordModal .modal-header {
        background: linear-gradient(45deg, var(--maroon), #a52a2a);
        color: white;
        border-bottom: none;
        padding: 1.25rem 1.5rem;
    }

    #changePasswordModal .modal-header .btn-close {
        filter: brightness(0) invert(1);
        opacity: 1;
    }

    #changePasswordModal .modal-title {
        font-weight: 600;
        font-size: 1.25rem;
    }

    #changePasswordModal .modal-title i {
        margin-right: 10px;
    }

    #changePasswordModal .modal-body {
        padding: 2rem 1.5rem;
        background-color: #f8f9fa;
    }

    #changePasswordModal .form-label {
        font-weight: 600;
        color: #495057;
        margin-bottom: 0.5rem;
        font-size: 0.9rem;
    }

    #changePasswordModal .form-control {
        border-radius: 8px;
        border: 1px solid #dee2e6;
        padding: 0.625rem 0.875rem;
        transition: all 0.3s ease;
    }

    #changePasswordModal .form-control:focus {
        border-color: var(--maroon);
        box-shadow: 0 0 0 0.2rem rgba(128, 0, 0, 0.15);
    }

    #changePasswordModal .password-toggle {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        color: #6c757d;
        z-index: 10;
        background: transparent;
        border: none;
        padding: 0;
    }

    #changePasswordModal .password-toggle:hover {
        color: var(--maroon);
    }

    #changePasswordModal .password-wrapper {
        position: relative;
    }

    #changePasswordModal .password-wrapper input[type="password"],
    #changePasswordModal .password-wrapper input[type="text"] {
        padding-right: 40px;
    }

    /* Hide browser default password reveal icons */
    #changePasswordModal input[type="password"]::-ms-reveal,
    #changePasswordModal input[type="password"]::-ms-clear,
    #changePasswordModal input[type="text"]::-ms-reveal,
    #changePasswordModal input[type="text"]::-ms-clear {
        display: none;
    }

    #changePasswordModal input[type="password"]::-webkit-credentials-auto-fill-button,
    #changePasswordModal input[type="password"]::-webkit-caps-lock-indicator,
    #changePasswordModal input[type="text"]::-webkit-credentials-auto-fill-button,
    #changePasswordModal input[type="text"]::-webkit-caps-lock-indicator {
        display: none;
    }


    #changePasswordModal .modal-footer {
        border-top: 1px solid #dee2e6;
        padding: 1rem 1.5rem;
        background-color: #fff;
    }

    #changePasswordModal .btn-secondary {
        background-color: #6c757d;
        border: none;
        padding: 0.5rem 1.5rem;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    #changePasswordModal .btn-secondary:hover {
        background-color: #5a6268;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    #changePasswordModal .btn-primary {
        background-color: var(--maroon);
        border: none;
        padding: 0.5rem 1.5rem;
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    #changePasswordModal .btn-primary:hover {
        background-color: #a52a2a;
        box-shadow: 0 2px 4px rgba(128, 0, 0, 0.3);
    }

    #changePasswordModal .alert {
        border-radius: 8px;
        border: none;
        padding: 0.75rem 1rem;
        margin-bottom: 1rem;
    }

    #changePasswordModal .alert-success {
        background-color: #d1e7dd;
        color: #0f5132;
    }

    #changePasswordModal .alert-danger {
        background-color: #f8d7da;
        color: #842029;
    }

    #changePasswordModal .alert i {
        margin-right: 8px;
    }
    
    /* Responsive styles */
    @media (max-width: 768px) {
        .mobile-header {
            display: block;
        }
        .sidebar {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            transition: left 0.3s;
            z-index: 1000;
        }
        .sidebar.active {
            left: 0;
        }
        .main-content {
            margin-left: 0;
            margin-top: 60px;
            width: 100%;
            padding: 20px;
        }
        .toggle-btn {
            display: none;
        }
        .change-password-btn {
            position: static;
            margin-top: 15px;
            width: 100%;
        }
        .profile-container {
            flex-direction: column;
            text-align: center;
        }
        .profile-info {
            margin-left: 0;
            margin-top: 15px;
        }
        
        /* Registration Form Mobile Styles */
        .pdf-container {
            padding: 20px;
        }
        .signature-line {
            width: 150px;
        }
        
        /* Announcements Mobile Styles */
        .announcements-container {
            max-height: calc(100vh - 100px);
        }
        .announcements-header {
            padding-bottom: 10px;
        }
        
        /* Modal Mobile Styles */
        #viewAnnouncementModal .modal-dialog {
            width: 95%;
            max-width: 95%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        #viewAnnouncementModal .modal-announcement-info {
            padding: 15px;
        }
        #viewAnnouncementModal .modal-body {
            padding: 15px;
        }
        
        /* Grades Table Mobile Adjustments */
        #gradesTable {
            font-size: 0.75rem;
            min-width: 100%;
        }
        
        #gradesTable thead th {
            font-size: 0.65rem;
            padding: 8px 4px;
            letter-spacing: 0.2px;
        }
        
        #gradesTable tbody td {
            font-size: 0.75rem;
            padding: 8px 4px;
        }
        
        /* Make filter labels and selects smaller on mobile */
        .form-label {
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
        }
        
        .form-label i {
            font-size: 0.8rem;
        }
        
        .form-select {
            font-size: 0.9rem;
            padding: 0.5rem 0.75rem;
        }
    }
    
    /* Filter section styling - match admin panel */
    .form-label {
        font-weight: 600;
        color: #495057;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
    }
    
    .form-label i {
        color: #800000;
        font-size: 0.85rem;
    }
    
    .form-select {
        border-radius: 8px;
        border: 1px solid #dee2e6;
        padding: 0.625rem 0.875rem;
        font-size: 0.95rem;
        transition: all 0.3s ease;
    }
    
    .form-select:focus {
        border-color: #800000;
        box-shadow: 0 0 0 0.2rem rgba(128, 0, 0, 0.15);
    }
    
    /* Grades table styling */
    #gradesTable thead th {
        background: linear-gradient(135deg, #800000 0%, #a52a2a 100%) !important;
        color: white !important;
        border-color: #800000 !important;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        padding: 12px 10px;
        font-size: 0.85rem;
        white-space: nowrap;
        border: none;
    }
    
    #gradesTable thead th:first-child {
        border-top-left-radius: 10px;
    }
    
    #gradesTable thead th:last-child {
        border-top-right-radius: 10px;
    }
    
    #gradesTable tbody tr {
        border-bottom: 1px solid #f0f0f0;
    }
    
    #gradesTable tbody td {
        padding: 12px 10px;
        vertical-align: middle;
        font-size: 0.9rem;
    }
    
    /* Table wrapper rounded corners */
    #my-grades .table-responsive {
        border-radius: 10px;
        overflow-x: auto;
        overflow-y: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        background: white;
        -webkit-overflow-scrolling: touch;
    }
    
    /* Ensure table fits on mobile */
    @media (max-width: 768px) {
        #my-grades .table-responsive {
            border-radius: 8px;
        }
        
        #gradesTable {
            width: 100%;
            min-width: 600px; /* Set minimum width to prevent header overlap */
        }
        
        /* Make table scrollable horizontally if needed */
        #my-grades .table-responsive {
            overflow-x: auto;
        }
        
        /* Compact but readable spacing */
        #gradesTable thead th {
            padding: 8px 6px;
            font-size: 0.7rem;
        }
        
        #gradesTable tbody td {
            padding: 8px 6px;
            font-size: 0.8rem;
        }
    }
    
    .bg-maroon {
        background-color: var(--maroon);
    }
</style>


</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Mobile Header (visible only on mobile) -->
            <div class="mobile-header">
                <div class="header-content">
                    <button class="menu-toggle" onclick="toggleSidebar()">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="header-title">Enverga University Candelaria</h1>
                </div>
            </div>

            <!-- Mobile toggle button (hidden, keeping for compatibility) -->
            <button class="toggle-btn d-md-none" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Sidebar -->
            <nav class="col-md-2 d-md-block sidebar" id="sidebar">
                <img src="photo/mseuflogo.png" alt="MSEUF Candelaria Logo" class="sidebar-logo">
                <div class="university-name">MANUEL S. ENVERGA UNIVERSITY FOUNDATION CANDELARIA INC.</div>
                <hr />
                <a href="#" data-target="dashboard-content" class="nav-link active"><i class="fas fa-tachometer-alt mr-2"></i> Dashboard</a>
                <a href="#" data-target="grades-content" class="nav-link"><i class="fas fa-chart-line mr-2"></i> My Grades</a>
                <a href="#" data-target="announcements-content" class="nav-link"><i class="fas fa-bullhorn mr-2"></i> Announcements</a>
                <a href="#" data-target="registration-content" class="nav-link"><i class="fas fa-file-alt mr-2"></i> Registration Form</a>
                <a href="#" data-target="profile-content" class="nav-link"><i class="fas fa-user mr-2"></i> Profile</a>
                <a href="#" onclick="logout();"><i class="fas fa-sign-out-alt mr-2"></i> Logout</a>
            </nav>

            <!-- Main Content -->
            <main class="col-md-10 main-content">
                <!-- Dashboard Content (Active by default) -->
                <div id="dashboard-content" class="content active">
                     <h2 class="mb-4 dashboard-title"><i class="fas fa-tachometer-alt text-dark"></i> Student Dashboard</h2>
                    
                    <!-- Student Profile Card - Updated to match admin style -->
                    <div class="dashboard-card">
                        <div class="d-flex align-items-center">
                            <div class="me-4">
                                <i class="fas fa-user-circle fa-5x text-secondary"></i>
                            </div>
                            <div>
                                <h5 class="mb-1 fw-bold">Juan Dela Cruz</h5>
                                <p class="mb-1">Student ID: A22-0001</p>
                                <p class="mb-1">Course: BS Computer Science</p>
                                <p class="mb-0">Year Level: 3rd Year</p>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Stats Cards - Updated to match admin style -->
                    <div class="row mb-4">
                        <div class="col-md-3 col-6 mb-3">
                            <div class="card h-100 text-center stat-card">
                                <div class="card-body">
                                    <i class="fas fa-book fa-2x text-maroon mb-2"></i>
                                    <h6 class="fw-bold text-maroon">Enrolled Subjects</h6>
                                    <h2 class="text-dark">7</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-6 mb-3">
                            <div class="card h-100 text-center stat-card">
                                <div class="card-body">
                                    <i class="fas fa-credit-card fa-2x text-maroon mb-2"></i>
                                    <h6 class="fw-bold text-maroon">Units</h6>
                                    <h2 class="text-dark">32</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-6 mb-3">
                            <div class="card h-100 text-center stat-card">
                                <div class="card-body">
                                    <i class="fas fa-star fa-2x text-maroon mb-2"></i>
                                    <h6 class="fw-bold text-maroon">GWA</h6>
                                    <h2 class="text-dark">1.00</h2>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-6 mb-3">
                            <div class="card h-100 text-center stat-card">
                                <div class="card-body">
                                    <i class="fas fa-trophy fa-2x text-maroon mb-2"></i>
                                    <h6 class="fw-bold text-maroon">Leaderboard Ranking</h6>
                                    <h2 class="text-dark">1</h2>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Grades Content -->
                <div id="grades-content" class="content">
                  <div class="dashboard-card">
                    <h2 class="grades-title"><i class="fas fa-chart-line"></i> My Grades</h2>

                    <!-- Filters -->
                    <div class="row mb-3 g-3">
                      <div class="col-md-4 col-12">
                        <label class="form-label">
                          <i class="fas fa-calendar-alt me-1"></i> Filter by Year
                        </label>
                        <select class="form-select" id="yearFilter">
                          <option value="">All Years</option>
                          <option value="2024-2025">2024 - 2025</option>
                          <option value="2023-2024">2023 - 2024</option>
                        </select>
                      </div>
                      <div class="col-md-4 col-12">
                        <label class="form-label">
                          <i class="fas fa-book me-1"></i> Filter by Semester
                        </label>
                        <select class="form-select" id="semesterFilter">
                          <option value="">All Semesters</option>
                          <option value="1ST SEMESTER">1ST SEMESTER</option>
                          <option value="2ND SEMESTER">2ND SEMESTER</option>
                        </select>
                      </div>
                      <div class="col-md-4 col-12 d-flex align-items-end">
                        <button class="btn btn-reset w-100" id="resetGradesFilter">
                          <i class="fas fa-redo me-1"></i> Reset Filter
                        </button>
                      </div>
                    </div>

                    <!-- Grades Table -->
                    <div class="table-responsive">
                      <table class="table table-bordered" id="gradesTable">
                        <thead class="bg-maroon text-white">
                          <tr>
                            <th>Subject Code</th>
                            <th>Subject</th>
                            <th>Midterm Grade</th>
                            <th>Final Grade</th>
                            <th>Remarks</th>
                          </tr>
                        </thead>
                        <tbody id="gradesTableBody">
                          <!-- 2024-2025, 1ST SEMESTER -->
                          <tr data-year="2024-2025" data-semester="1ST SEMESTER">
                            <td class="text-danger">PCS112</td>
                            <td>Programming Lang.</td>
                            <td>95</td>
                            <td>1.25</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="1ST SEMESTER">
                            <td class="text-danger">SCS101</td>
                            <td>Software Testing</td>
                            <td>92</td>
                            <td>1.50</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="1ST SEMESTER">
                            <td class="text-danger">PCS115</td>
                            <td>CS Thesis Writing</td>
                            <td>98</td>
                            <td>1.00</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="1ST SEMESTER">
                            <td class="text-danger">ITE101</td>
                            <td>Database Systems</td>
                            <td>90</td>
                            <td>1.75</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="1ST SEMESTER">
                            <td class="text-danger">NET102</td>
                            <td>Network Security</td>
                            <td>94</td>
                            <td>1.25</td>
                            <td>Passed</td>
                          </tr>
                          
                          <!-- 2024-2025, 2ND SEMESTER -->
                          <tr data-year="2024-2025" data-semester="2ND SEMESTER">
                            <td class="text-danger">PCS110</td>
                            <td>Software Eng.</td>
                            <td>96</td>
                            <td>1.00</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="2ND SEMESTER">
                            <td class="text-danger">WEB201</td>
                            <td>Web Development</td>
                            <td>93</td>
                            <td>1.50</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="2ND SEMESTER">
                            <td class="text-danger">MOB101</td>
                            <td>Mobile Programming</td>
                            <td>91</td>
                            <td>1.75</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="2ND SEMESTER">
                            <td class="text-danger">SYS202</td>
                            <td>System Analysis</td>
                            <td>89</td>
                            <td>1.75</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2024-2025" data-semester="2ND SEMESTER">
                            <td class="text-danger">AI301</td>
                            <td>Artificial Intelligence</td>
                            <td>97</td>
                            <td>1.00</td>
                            <td>Passed</td>
                          </tr>
                          
                          <!-- 2023-2024, 1ST SEMESTER -->
                          <tr data-year="2023-2024" data-semester="1ST SEMESTER">
                            <td class="text-danger">DSA201</td>
                            <td>Data Structures</td>
                            <td>88</td>
                            <td>2.00</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="1ST SEMESTER">
                            <td class="text-danger">ALG102</td>
                            <td>Algorithm Analysis</td>
                            <td>92</td>
                            <td>1.50</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="1ST SEMESTER">
                            <td class="text-danger">OOP201</td>
                            <td>Object-Oriented Prog.</td>
                            <td>95</td>
                            <td>1.25</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="1ST SEMESTER">
                            <td class="text-danger">DIS101</td>
                            <td>Discrete Mathematics</td>
                            <td>87</td>
                            <td>2.00</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="1ST SEMESTER">
                            <td class="text-danger">ENG102</td>
                            <td>Technical Writing</td>
                            <td>90</td>
                            <td>1.75</td>
                            <td>Passed</td>
                          </tr>
                          
                          <!-- 2023-2024, 2ND SEMESTER -->
                          <tr data-year="2023-2024" data-semester="2ND SEMESTER">
                            <td class="text-danger">PCS114</td>
                            <td>Research Methods</td>
                            <td>85</td>
                            <td>2.25</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="2ND SEMESTER">
                            <td class="text-danger">OS201</td>
                            <td>Operating Systems</td>
                            <td>89</td>
                            <td>1.75</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="2ND SEMESTER">
                            <td class="text-danger">COM301</td>
                            <td>Computer Architecture</td>
                            <td>91</td>
                            <td>1.75</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="2ND SEMESTER">
                            <td class="text-danger">NET201</td>
                            <td>Computer Networks</td>
                            <td>93</td>
                            <td>1.50</td>
                            <td>Passed</td>
                          </tr>
                          <tr data-year="2023-2024" data-semester="2ND SEMESTER">
                            <td class="text-danger">ETH101</td>
                            <td>IT Ethics</td>
                            <td>96</td>
                            <td>1.00</td>
                            <td>Passed</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <!-- No Results Message -->
                    <div id="noGradesMessage" class="text-center py-4" style="display: none;">
                      <i class="fas fa-chart-line fa-3x text-muted mb-3"></i>
                      <p class="text-muted">No grades found matching your filter criteria.</p>
                    </div>

                  </div>
                </div>

                <!-- Announcements Content -->
                <div id="announcements-content" class="content">
                  <div class="dashboard-card announcements-container">
                    <!-- Fixed Header Section -->
                    <div class="announcements-header">
                      <h2 class="grades-title"><i class="fas fa-bullhorn"></i> Announcements</h2>

                      <!-- Filter Section -->
                      <div class="row mb-3 g-3">
                        <div class="col-md-6 col-12">
                          <label class="form-label">
                            <i class="fas fa-tag me-1"></i> Filter by Category
                          </label>
                          <select class="form-select" id="categoryFilter">
                            <option value="">All Categories</option>
                            <option value="General">General</option>
                            <option value="Academic">Academic</option>
                            <option value="Event">Event</option>
                            <option value="Holiday">Holiday</option>
                            <option value="Important">Important</option>
                          </select>
                        </div>
                        <div class="col-md-6 col-12 d-flex align-items-end">
                          <button class="btn btn-reset w-100" id="resetAnnouncementFilter">
                            <i class="fas fa-redo me-1"></i> Reset Filter
                          </button>
                        </div>
                      </div>
                    </div>

                    <!-- Scrollable Announcements List -->
                    <div class="announcements-list-container">
                      <div class="list-group" id="announcementsList">
                      <!-- Important Announcement -->
                      <div class="list-group-item announcement-item" data-category="Important" onclick="viewAnnouncement(this)" style="cursor: pointer;">
                        <div class="d-flex w-100 justify-content-between align-items-start">
                          <div class="flex-grow-1">
                            <h5 class="mb-2">
                              Final Examination Schedule
                              <span class="badge bg-danger ms-2">Important</span>
                            </h5>
                            <p class="mb-2 text-muted announcement-preview">
                              Final examinations for the First Semester AY 2024-2025 will be held from December 9-13, 2024...
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                              <small class="text-muted">
                                <i class="fas fa-clock"></i> Posted 2 days ago
                              </small>
                              <small class="text-maroon fw-bold">
                                <i class="fas fa-arrow-right"></i> Click to read more
                              </small>
                            </div>
                          </div>
                        </div>
                        <!-- Hidden full content -->
                        <div class="announcement-full-content" style="display: none;">
                          Final examinations for the First Semester AY 2024-2025 will be held from December 9-13, 2024. 
                          Please check your examination schedule on the bulletin board or contact your respective department heads.
                          
                          Important Reminders:
                          • Bring your valid student ID
                          • Arrive 15 minutes before the examination
                          • No electronic devices allowed except calculators (for applicable subjects)
                          • Follow the dress code strictly
                          
                          For any concerns, please contact the Office of the Registrar.
                        </div>
                      </div>

                      <!-- Academic Announcement -->
                      <div class="list-group-item announcement-item" data-category="Academic" onclick="viewAnnouncement(this)" style="cursor: pointer;">
                        <div class="d-flex w-100 justify-content-between align-items-start">
                          <div class="flex-grow-1">
                            <h5 class="mb-2">
                              Academic Excellence Awards
                              <span class="badge bg-primary ms-2">Academic</span>
                            </h5>
                            <p class="mb-2 text-muted announcement-preview">
                              Congratulations to all students who achieved academic excellence this semester...
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                              <small class="text-muted">
                                <i class="fas fa-clock"></i> Posted 3 days ago
                              </small>
                              <small class="text-maroon fw-bold">
                                <i class="fas fa-arrow-right"></i> Click to read more
                              </small>
                            </div>
                          </div>
                        </div>
                        <!-- Hidden full content -->
                        <div class="announcement-full-content" style="display: none;">
                          Congratulations to all students who achieved academic excellence this semester! 
                          University Scholars, College Scholars, and Dean's Listers will be recognized during the 
                          Honors Convocation on December 15, 2024 at the University Gymnasium.
                          
                          Award Categories:
                          • University Scholar (GWA 1.00 - 1.45)
                          • College Scholar (GWA 1.46 - 1.75)
                          • Dean's Lister (GWA 1.76 - 1.99)
                          
                          Program Schedule:
                          Registration: 8:00 AM
                          Opening Ceremony: 9:00 AM
                          Awarding: 10:00 AM
                          
                          Please wear formal attire. Parents and guardians are welcome to attend.
                        </div>
                      </div>

                      <!-- Holiday Announcement -->
                      <div class="list-group-item announcement-item" data-category="Holiday" onclick="viewAnnouncement(this)" style="cursor: pointer;">
                        <div class="d-flex w-100 justify-content-between align-items-start">
                          <div class="flex-grow-1">
                            <h5 class="mb-2">
                              Holiday Notice
                              <span class="badge bg-success ms-2">Holiday</span>
                            </h5>
                            <p class="mb-2 text-muted announcement-preview">
                              The school will be closed from December 24, 2024 to January 2, 2025 for the winter break...
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                              <small class="text-muted">
                                <i class="fas fa-clock"></i> Posted 1 week ago
                              </small>
                              <small class="text-maroon fw-bold">
                                <i class="fas fa-arrow-right"></i> Click to read more
                              </small>
                            </div>
                          </div>
                        </div>
                        <!-- Hidden full content -->
                        <div class="announcement-full-content" style="display: none;">
                          The school will be closed from December 24, 2024 to January 2, 2025 for the winter break. 
                          Classes will resume on January 6, 2025. Happy Holidays to everyone!
                          
                          Office Hours during Holiday Break:
                          • December 24-26: Closed
                          • December 27-30: Limited hours (9:00 AM - 3:00 PM)
                          • December 31 - January 1: Closed
                          • January 2-5: Limited hours (9:00 AM - 3:00 PM)
                          
                          For emergency concerns, please contact:
                          Security Office: (042) 710-3188 ext. 101
                          
                          Wishing everyone a Merry Christmas and a Happy New Year!
                        </div>
                      </div>

                      <!-- Event Announcement -->
                      <div class="list-group-item announcement-item" data-category="Event" onclick="viewAnnouncement(this)" style="cursor: pointer;">
                        <div class="d-flex w-100 justify-content-between align-items-start">
                          <div class="flex-grow-1">
                            <h5 class="mb-2">
                              Intramurals 2024
                              <span class="badge bg-warning text-dark ms-2">Event</span>
                            </h5>
                            <p class="mb-2 text-muted announcement-preview">
                              The Annual Intramurals will be held on November 20-22, 2024...
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                              <small class="text-muted">
                                <i class="fas fa-clock"></i> Posted 2 weeks ago
                              </small>
                              <small class="text-maroon fw-bold">
                                <i class="fas fa-arrow-right"></i> Click to read more
                              </small>
                            </div>
                          </div>
                        </div>
                        <!-- Hidden full content -->
                        <div class="announcement-full-content" style="display: none;">
                          The Annual Intramurals will be held on November 20-22, 2024. All students are encouraged 
                          to participate. Registration for sports events is now open at the Physical Education Office.
                          
                          Available Sports Events:
                          • Basketball (Men's and Women's)
                          • Volleyball (Men's and Women's)
                          • Badminton (Singles and Doubles)
                          • Table Tennis
                          • Chess
                          • Athletics (Track and Field)
                          • E-Sports (Mobile Legends, Valorant)
                          
                          Registration Details:
                          • Deadline: November 15, 2024
                          • Venue: PE Office, 2nd Floor, Sports Complex
                          • Requirements: Medical clearance, Student ID
                          
                          Opening Ceremony: November 20, 2024, 7:00 AM at the University Oval
                          
                          Show your school spirit and join us! Go Corsairs!
                        </div>
                      </div>

                      <!-- General Announcement -->
                      <div class="list-group-item announcement-item" data-category="General" onclick="viewAnnouncement(this)" style="cursor: pointer;">
                        <div class="d-flex w-100 justify-content-between align-items-start">
                          <div class="flex-grow-1">
                            <h5 class="mb-2">
                              Library Hours Extension
                              <span class="badge bg-secondary ms-2">General</span>
                            </h5>
                            <p class="mb-2 text-muted announcement-preview">
                              Starting November 1, 2024, the library will extend its operating hours...
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                              <small class="text-muted">
                                <i class="fas fa-clock"></i> Posted 3 weeks ago
                              </small>
                              <small class="text-maroon fw-bold">
                                <i class="fas fa-arrow-right"></i> Click to read more
                              </small>
                            </div>
                          </div>
                        </div>
                        <!-- Hidden full content -->
                        <div class="announcement-full-content" style="display: none;">
                          Starting November 1, 2024, the library will extend its operating hours until 10:00 PM 
                          on weekdays to accommodate students preparing for final examinations. Weekend hours remain unchanged.
                          
                          Extended Library Hours:
                          Monday - Friday: 7:00 AM - 10:00 PM
                          Saturday: 8:00 AM - 5:00 PM
                          Sunday: Closed
                          
                          Services Available:
                          • Book borrowing and return
                          • Study areas and reading rooms
                          • Computer laboratory
                          • Printing and photocopying services
                          • Research assistance
                          
                          Library Rules:
                          • Maintain silence in reading areas
                          • No food or drinks allowed
                          • Present valid student ID for entry
                          • Maximum of 3 books can be borrowed at a time
                          
                          For inquiries, contact the Library Information Desk.
                        </div>
                      </div>

                      <!-- Academic Announcement -->
                      <div class="list-group-item announcement-item" data-category="Academic" onclick="viewAnnouncement(this)" style="cursor: pointer;">
                        <div class="d-flex w-100 justify-content-between align-items-start">
                          <div class="flex-grow-1">
                            <h5 class="mb-2">
                              Enrollment for Second Semester
                              <span class="badge bg-primary ms-2">Academic</span>
                            </h5>
                            <p class="mb-2 text-muted announcement-preview">
                              Pre-enrollment for the Second Semester AY 2024-2025 will start on December 1, 2024...
                            </p>
                            <div class="d-flex justify-content-between align-items-center">
                              <small class="text-muted">
                                <i class="fas fa-clock"></i> Posted 1 month ago
                              </small>
                              <small class="text-maroon fw-bold">
                                <i class="fas fa-arrow-right"></i> Click to read more
                              </small>
                            </div>
                          </div>
                        </div>
                        <!-- Hidden full content -->
                        <div class="announcement-full-content" style="display: none;">
                          Pre-enrollment for the Second Semester AY 2024-2025 will start on December 1, 2024. 
                          Students are advised to consult with their academic advisers before enrolling. 
                          Online enrollment will be available through the student portal.
                          
                          Enrollment Schedule by Year Level:
                          • 4th Year: December 1-5, 2024
                          • 3rd Year: December 6-10, 2024
                          • 2nd Year: December 11-15, 2024
                          • 1st Year: December 16-20, 2024
                          
                          Requirements:
                          • Clearance from previous semester
                          • Assessment form
                          • Copy of grades (for scholarship recipients)
                          
                          Important Notes:
                          • Ensure no outstanding balance
                          • Submit documentary requirements on time
                          • Follow the prescribed curriculum
                          • Maximum load: 27 units, Minimum load: 15 units
                          
                          For assistance, visit the Registrar's Office or email registrar@mseuf.edu.ph
                        </div>
                      </div>
                    </div>

                      <!-- No Results Message (Hidden by default) -->
                      <div id="noAnnouncementsMessage" class="text-center py-5" style="display: none;">
                        <i class="fas fa-bullhorn fa-3x text-muted mb-3"></i>
                        <p class="text-muted">No announcements found matching your search.</p>
                      </div>
                    </div>
                    <!-- End of scrollable container -->
                  </div>
                </div>

                <!-- Registration Form Content -->
                <div id="registration-content" class="content">
                    <h2 class="grades-title"><i class="fas fa-file-alt"></i> Registration Form</h2>
                    
                    <div class="pdf-container">
                      <!-- Header -->
                      <div class="text-center">
                        <h5 class="mb-0">MANUEL S. ENVERGA UNIVERSITY FOUNDATION</h5>
                        <small>Candelaria, Quezon <br> Tel: (042) 710-3188 | registrar@mseuf.edu.ph</small>
                        <h6 class="mt-3 mb-4 fw-bold">STUDENT REGISTRATION FORM</h6>
                      </div>

                      <!-- Student Information -->
                      <h6 class="section-title">Personal Information</h6>
                      <table class="table table-bordered form-table">
                        <tbody>
                          <tr><td><strong>Full Name:</strong></td><td>Juan Torres Dela Cruz</td></tr>
                          <tr><td><strong>Date of Birth:</strong></td><td>October 24, 2004</td></tr>
                          <tr><td><strong>Sex:</strong></td><td>Male</td></tr>
                          <tr><td><strong>Citizenship:</strong></td><td>Filipino</td></tr>
                          <tr><td><strong>Religion:</strong></td><td>Roman Catholic</td></tr>
                          <tr><td><strong>Permanent Address:</strong></td><td>Candelaria, Quezon</td></tr>
                          <tr><td><strong>Contact No.:</strong></td><td>0991 770 0123</td></tr>
                          <tr><td><strong>Email:</strong></td><td>juandirection@gmail.com</td></tr>
                        </tbody>
                      </table>

                      <!-- Parent Information -->
                      <h6 class="section-title">Parent / Guardian Information</h6>
                      <table class="table table-bordered form-table">
                        <tbody>
                          <tr><td><strong>Father's Name:</strong></td><td>Jose Dela Cruz</td></tr>
                          <tr><td><strong>Occupation:</strong></td><td>Engineer</td></tr>
                          <tr><td><strong>Mother's Name:</strong></td><td>Maria Dela Cruz</td></tr>
                          <tr><td><strong>Occupation:</strong></td><td>Teacher</td></tr>
                          <tr><td><strong>Guardian (if not parents):</strong></td><td>—</td></tr>
                        </tbody>
                      </table>

                      <!-- Educational Background -->
                      <h6 class="section-title">Educational Background</h6>
                      <table class="table table-bordered form-table">
                        <thead class="table-light">
                          <tr>
                            <th>Level</th>
                            <th>School</th>
                            <th>Location</th>
                            <th>Year Graduated</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>Elementary</td>
                            <td>Candelaria Elementary School</td>
                            <td>Candelaria, Quezon</td>
                            <td>2016</td>
                          </tr>
                          <tr>
                            <td>High School</td>
                            <td>Tayabas Western Academy</td>
                            <td>Tayabas, Quezon</td>
                            <td>2020</td>
                          </tr>
                          <tr>
                            <td>Senior High</td>
                            <td>Quezon Science High School</td>
                            <td>Lucena, Quezon</td>
                            <td>2022</td>
                          </tr>
                        </tbody>
                      </table>

                      <!-- Course -->
                      <h6 class="section-title">Enrollment Information</h6>
                      <table class="table table-bordered form-table">
                        <tbody>
                          <tr><td><strong>Course to Enroll:</strong></td><td>Bachelor of Science in Information Technology</td></tr>
                          <tr><td><strong>Year Level:</strong></td><td>1st Year</td></tr>
                          <tr><td><strong>Semester:</strong></td><td>First Semester AY 2025–2026</td></tr>
                        </tbody>
                      </table>

                      <!-- Consent -->
                      <h6 class="section-title">Consent and Declaration</h6>
                      <p>
                        I hereby certify that the above information is true and correct to the best of my knowledge. I fully understand that any false information given herein shall be sufficient cause for rejection of my application or dismissal from the University.
                      </p>

                      <div class="d-flex justify-content-between mt-5">
                        <div class="text-center">
                          <span class="signature-line"></span>
                          <p>Signature of Student</p>
                        </div>
                        <div class="text-center">
                          <span class="signature-line"></span>
                          <p>Signature of Parent/Guardian</p>
                        </div>
                    </div>
                    
                    <!-- Download Button -->
                    <button class="download-btn" id="downloadPdfBtn">
                      Download PDF <i class="bi bi-cloud-download"></i>
                    </button>
                  </div>
                </div>

                <!-- Profile Content (Hidden by default) -->
                <div id="profile-content" class="content">
                    <h2 class="mb-4 profile-title"><i class="fas fa-user"></i> Profile</h2>
                    
                    <!-- Profile Section with Avatar on Left and Change Password Button -->
                    <div class="profile-container">
                        <img src="https://ui-avatars.com/api/?name=Juan+Dela+Cruz&background=random&size=100" class="rounded-circle" alt="Profile" />
                        <div class="profile-info">
                            <h5 class="mb-1 fw-bold">Juan Dela Cruz</h5>
                            <p>Student ID: A22-0001<br />Course: BS Computer Science<br />Year Level: 3rd Year</p>
                        </div>
                        <button type="button" class="btn btn-danger change-password-btn" data-bs-toggle="modal" data-bs-target="#changePasswordModal">
                            Change Password
                        </button>
                    </div>

                    <!-- Collapsible School Fees Section -->
                    <div class="dashboard-card">
                        <div class="toggle-fees" onclick="toggleFees()">
                            <h4>Accounts</h4>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        
                        <div class="fees-content collapsed">
                            <div class="row mb-4">
                                <div class="col-md-6 mb-3">
                                    <div class="dashboard-card">
                                        <h5 class="mb-3">Payment Summary</h5>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Total Assessment:</span>
                                            <span>₱45,000.00</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Amount Paid:</span>
                                            <span>₱25,000.00</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Balance:</span>
                                            <span class="font-weight-bold">₱20,000.00</span>
                                        </div>
                                        <div class="d-flex justify-content-between mb-2">
                                            <span>Due Date:</span>
                                            <span>June 15, 2025</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="dashboard-card">
                                        <h5 class="mb-3">Payment History</h5>
                                        <table class="table table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Date</th>
                                                    <th>Amount</th>
                                                    <th>OR Number</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>Jan 15, 2025</td>
                                                    <td>₱15,000.00</td>
                                                    <td>2025-001234</td>
                                                </tr>
                                                <tr>
                                                    <td>Nov 20, 2024</td>
                                                    <td>₱10,000.00</td>
                                                    <td>2024-009876</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            
                            <h5 class="mb-3">Detailed Fee Breakdown</h5>
                            <div class="table-responsive">
                                <table class="table fee-table table-bordered">
                                    <thead>
                                        <tr>
                                            <th>Fee Description</th>
                                            <th>Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Tuition Fee (32 units @ ₱1,000/unit)</td>
                                            <td>₱32,000.00</td>
                                        </tr>
                                        <tr>
                                            <td>Registration Fee</td>
                                            <td>₱2,500.00</td>
                                        </tr>
                                        <tr>
                                            <td>Library Fee</td>
                                            <td>₱1,200.00</td>
                                        </tr>
                                        <tr>
                                            <td>Laboratory Fee</td>
                                            <td>₱3,500.00</td>
                                        </tr>
                                        <tr>
                                            <td>Medical/Dental Fee</td>
                                            <td>₱1,800.00</td>
                                        </tr>
                                        <tr>
                                            <td>Student Activity Fee</td>
                                            <td>₱1,500.00</td>
                                        </tr>
                                        <tr>
                                            <td>Computer Fee</td>
                                            <td>₱2,500.00</td>
                                        </tr>
                                        <tr class="table-secondary">
                                            <td class="font-weight-bold">Total Fees</td>
                                            <td class="font-weight-bold">₱45,000.00</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Change Password Modal -->
    <div class="modal fade" id="changePasswordModal" tabindex="-1" aria-labelledby="changePasswordModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <form class="modal-content" id="changePasswordForm">
                <div class="modal-header">
                    <h5 class="modal-title" id="changePasswordModalLabel">
                        <i class="bi bi-key-fill"></i> Change Password
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="studentNumber" class="form-label">
                            <i class="fas fa-id-card me-1"></i> Student Number
                        </label>
                        <input type="text" class="form-control" id="studentNumber" name="studentNumber" placeholder="Enter your student number" required>
                    </div>

                    <div class="mb-3">
                        <label for="oldPassword" class="form-label">
                            <i class="fas fa-lock me-1"></i> Current Password
                        </label>
                        <div class="password-wrapper">
                            <input type="password" class="form-control" id="oldPassword" name="oldPassword" placeholder="Enter current password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('oldPassword')">
                                <i class="fas fa-eye" id="oldPassword-icon"></i>
                            </button>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="newPassword" class="form-label">
                            <i class="fas fa-lock me-1"></i> New Password
                        </label>
                        <div class="password-wrapper">
                            <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="Enter new password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('newPassword')">
                                <i class="fas fa-eye" id="newPassword-icon"></i>
                            </button>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="confirmPassword" class="form-label">
                            <i class="fas fa-check-circle me-1"></i> Confirm New Password
                        </label>
                        <div class="password-wrapper">
                            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" placeholder="Re-enter new password" required>
                            <button type="button" class="password-toggle" onclick="togglePassword('confirmPassword')">
                                <i class="fas fa-eye" id="confirmPassword-icon"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-times me-1"></i> Cancel
                    </button>
                    <button type="submit" class="btn btn-primary" id="updateBtn">
                        <i class="fas fa-save me-1"></i> Update Password
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- View Announcement Modal -->
    <div class="modal fade" id="viewAnnouncementModal" tabindex="-1" aria-labelledby="viewAnnouncementModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-maroon text-white">
                    <h5 class="modal-title" id="viewAnnouncementModalLabel">
                        <i class="fas fa-bullhorn me-2"></i>
                        <span id="modalAnnouncementTitle">Announcement</span>
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <!-- Fixed announcement info (not scrollable) -->
                <div class="modal-announcement-info">
                    <div class="mb-2">
                        <span id="modalAnnouncementCategory" class="badge bg-primary">Category</span>
                        <small class="text-muted ms-3" id="modalAnnouncementDate">
                            <i class="fas fa-clock"></i> Posted date
                        </small>
                    </div>
                    <hr class="my-2">
                </div>
                <!-- Scrollable content area -->
                <div class="modal-body">
                    <div id="modalAnnouncementContent" style="white-space: pre-line; line-height: 1.8; font-size: 1rem;">
                        Announcement content will be displayed here...
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mobile sidebar toggle - matches admin behavior
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }

        // Close sidebar when clicking outside - matches admin
        $(document).on('click', function(e) {
            if ($(window).width() <= 768) {
                if (!$(e.target).closest('#sidebar').length && 
                    !$(e.target).closest('.toggle-btn').length &&
                    !$(e.target).closest('.menu-toggle').length &&
                    !$(e.target).closest('.mobile-header').length) {
                    $('#sidebar').removeClass('active');
                }
            }
        });

        // Logout function
        function logout() {
            console.log('Logging out...');
        }

        // Navigation
        $('.nav-link').on('click', function(e) {
            e.preventDefault();
            let target = $(this).data('target');
            if (target) {
                $('.content').removeClass('active');
                $('#' + target).addClass('active');
                $('.nav-link').removeClass('active');
                $(this).addClass('active');
                
                // Hide download button when not in registration form
                if (target !== 'registration-content') {
                    $('#downloadPdfBtn').hide();
                } else {
                    $('#downloadPdfBtn').show();
                }
            }
        });

        function toggleFees() {
            const feesContent = document.querySelector('.fees-content');
            const chevron = document.querySelector('.toggle-fees i');
            
            if (feesContent.classList.contains('collapsed')) {
                feesContent.classList.remove('collapsed');
                feesContent.classList.add('expanded');
                chevron.style.transform = 'rotate(180deg)';
            } else {
                feesContent.classList.remove('expanded');
                feesContent.classList.add('collapsed');
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // Alert function for change password modal
        function showAlert(type, message) {
            const existingAlert = document.querySelector('#changePasswordModal .alert');
            if (existingAlert) {
                existingAlert.remove();
            }
            
            const alertClass = type === 'success' ? 'alert-success' : 'alert-danger';
            const icon = type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle';
            
            const alertHtml = `
                <div class="alert ${alertClass} alert-dismissible fade show" role="alert">
                    <i class="fas ${icon}"></i> ${message}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            `;
            
            const modalBody = document.querySelector('#changePasswordModal .modal-body');
            modalBody.insertAdjacentHTML('afterbegin', alertHtml);
            
            // Auto-dismiss success message and close modal
            if (type === 'success') {
                setTimeout(() => {
                    const modal = bootstrap.Modal.getInstance(document.getElementById('changePasswordModal'));
                    modal.hide();
                    const alert = document.querySelector('#changePasswordModal .alert');
                    if (alert) alert.remove();
                }, 2000);
            }
        }

                // Password Toggle Function
        function togglePassword(inputId) {
            const input = document.getElementById(inputId);
            const icon = document.getElementById(inputId + '-icon');
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        document.getElementById('changePasswordForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const oldPassword = document.getElementById('oldPassword').value;
            const studentNumber = document.getElementById('studentNumber').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if(studentNumber !== "A22-0001") {
                showAlert('error', 'Student Number does not match');
            } else if(oldPassword !== "password1") {
                showAlert('error', 'Current Password is incorrect');
            } else if (oldPassword === newPassword) {
                showAlert('error', 'New password must be different from current password');
            } else if (newPassword !== confirmPassword) {
                showAlert('error', 'New password and confirmation do not match');
                return;
            } else if (newPassword.length < 8) {
                showAlert('error', 'New password must be at least 8 characters long');
            } else {
                showAlert('success', 'Password changed successfully!');
                // Reset form
                this.reset();
            }
        });
        
        // Download PDF button functionality
        document.getElementById('downloadPdfBtn').addEventListener('click', function() {
            alert('This would download the registration form as a PDF in a real application.');
            // In a real application, this would trigger a PDF download
            // window.print(); could be used as a fallback
        });
        
        // Initially hide the download button
        $('#downloadPdfBtn').hide();

        // Announcements functionality
        const categoryFilter = document.getElementById('categoryFilter');
        const resetAnnouncementFilter = document.getElementById('resetAnnouncementFilter');
        const announcementsList = document.getElementById('announcementsList');
        const noAnnouncementsMessage = document.getElementById('noAnnouncementsMessage');

        // View announcement in modal
        function viewAnnouncement(element) {
            const title = element.querySelector('h5').textContent.trim();
            const categoryBadge = element.querySelector('.badge');
            const category = categoryBadge.textContent.trim();
            const categoryClass = categoryBadge.className;
            const datePosted = element.querySelector('small').textContent.trim();
            const fullContent = element.querySelector('.announcement-full-content').textContent.trim();

            // Set modal content
            document.getElementById('modalAnnouncementTitle').textContent = title.split('\n')[0].trim();
            document.getElementById('modalAnnouncementCategory').textContent = category;
            document.getElementById('modalAnnouncementCategory').className = categoryClass;
            document.getElementById('modalAnnouncementDate').innerHTML = '<i class="fas fa-clock"></i> ' + datePosted.replace('Posted ', 'Posted ');
            document.getElementById('modalAnnouncementContent').textContent = fullContent;

            // Show modal
            const modal = new bootstrap.Modal(document.getElementById('viewAnnouncementModal'));
            modal.show();
        }

        // Filter announcements function
        function filterAnnouncements() {
            const selectedCategory = categoryFilter.value;
            const announcements = announcementsList.querySelectorAll('.announcement-item');
            let visibleCount = 0;

            announcements.forEach(announcement => {
                const category = announcement.getAttribute('data-category');
                const matchesCategory = !selectedCategory || category === selectedCategory;

                if (matchesCategory) {
                    announcement.style.display = 'block';
                    visibleCount++;
                } else {
                    announcement.style.display = 'none';
                }
            });

            // Show/hide no results message
            if (visibleCount === 0) {
                noAnnouncementsMessage.style.display = 'block';
                announcementsList.style.display = 'none';
            } else {
                noAnnouncementsMessage.style.display = 'none';
                announcementsList.style.display = 'block';
            }
        }

        // Event listeners for announcements
        if (categoryFilter) {
            categoryFilter.addEventListener('change', filterAnnouncements);
        }

        if (resetAnnouncementFilter) {
            resetAnnouncementFilter.addEventListener('click', function() {
                categoryFilter.value = '';
                filterAnnouncements();
            });
        }

        // Make viewAnnouncement globally available
        window.viewAnnouncement = viewAnnouncement;
    
        // Make function globally available
        window.togglePassword = togglePassword;

        // Grades Filter Functionality
        const yearFilter = document.getElementById('yearFilter');
        const semesterFilter = document.getElementById('semesterFilter');
        const resetGradesFilter = document.getElementById('resetGradesFilter');
        const gradesTableBody = document.getElementById('gradesTableBody');
        const noGradesMessage = document.getElementById('noGradesMessage');

        // Filter grades function
        function filterGrades() {
            const selectedYear = yearFilter.value;
            const selectedSemester = semesterFilter.value;
            const gradeRows = gradesTableBody.querySelectorAll('tr');
            let visibleCount = 0;

            gradeRows.forEach(row => {
                const rowYear = row.getAttribute('data-year');
                const rowSemester = row.getAttribute('data-semester');
                
                const matchesYear = !selectedYear || rowYear === selectedYear;
                const matchesSemester = !selectedSemester || rowSemester === selectedSemester;

                if (matchesYear && matchesSemester) {
                    row.style.display = '';
                    visibleCount++;
                } else {
                    row.style.display = 'none';
                }
            });

            // Show/hide no results message and table
            if (visibleCount === 0) {
                noGradesMessage.style.display = 'block';
                document.querySelector('#grades-content .table-responsive').style.display = 'none';
            } else {
                noGradesMessage.style.display = 'none';
                document.querySelector('#grades-content .table-responsive').style.display = 'block';
            }
        }

        // Event listeners for grades filters
        if (yearFilter) {
            yearFilter.addEventListener('change', filterGrades);
        }

        if (semesterFilter) {
            semesterFilter.addEventListener('change', filterGrades);
        }

        if (resetGradesFilter) {
            resetGradesFilter.addEventListener('click', function() {
                yearFilter.value = '';
                semesterFilter.value = '';
                filterGrades();
            });
        }
    </script>
</body>
</html>
